{"ast":null,"code":"\"use strict\";\n\nvar __asyncValues = this && this.__asyncValues || function (o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator],\n    i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i);\n  function verb(n) {\n    i[n] = o[n] && function (v) {\n      return new Promise(function (resolve, reject) {\n        v = o[n](v), settle(resolve, reject, v.done, v.value);\n      });\n    };\n  }\n  function settle(resolve, reject, d, v) {\n    Promise.resolve(v).then(function (v) {\n      resolve({\n        value: v,\n        done: d\n      });\n    }, reject);\n  }\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RequestIter = void 0;\nconst Helpers_1 = require(\"./Helpers\");\nconst _1 = require(\"./\");\nclass RequestIter {\n  constructor(client, limit, params = {}, args = {}) {\n    this.client = client;\n    this.reverse = params.reverse;\n    this.waitTime = params.waitTime;\n    this.limit = Math.max(!limit ? Number.MAX_SAFE_INTEGER : limit, 0);\n    this.left = this.limit;\n    this.buffer = undefined;\n    this.kwargs = args;\n    this.index = 0;\n    this.total = undefined;\n    this.lastLoad = 0;\n  }\n  async _init(kwargs) {\n    // for overload\n  }\n  [Symbol.asyncIterator]() {\n    this.buffer = undefined;\n    this.index = 0;\n    this.lastLoad = 0;\n    this.left = this.limit;\n    return {\n      next: async () => {\n        if (this.buffer == undefined) {\n          this.buffer = [];\n          if (await this._init(this.kwargs)) {\n            this.left = this.buffer.length;\n          }\n        }\n        if (this.left <= 0) {\n          return {\n            value: undefined,\n            done: true\n          };\n        }\n        if (this.index == this.buffer.length) {\n          if (this.waitTime) {\n            await (0, Helpers_1.sleep)(this.waitTime - (new Date().getTime() / 1000 - this.lastLoad));\n          }\n          this.lastLoad = new Date().getTime() / 1000;\n          this.index = 0;\n          this.buffer = [];\n          const nextChunk = await this._loadNextChunk();\n          if (nextChunk === false) {\n            // we exit;\n            return {\n              value: undefined,\n              done: true\n            };\n          }\n          if (nextChunk) {\n            this.left = this.buffer.length;\n          }\n        }\n        if (!this.buffer || !this.buffer.length) {\n          return {\n            value: undefined,\n            done: true\n          };\n        }\n        const result = this.buffer[this.index];\n        this.left -= 1;\n        this.index += 1;\n        return {\n          value: result,\n          done: false\n        };\n      }\n    };\n  }\n  async collect() {\n    var _a, e_1, _b, _c;\n    const result = new _1.helpers.TotalList();\n    try {\n      for (var _d = true, _e = __asyncValues(this), _f; _f = await _e.next(), _a = _f.done, !_a; _d = true) {\n        _c = _f.value;\n        _d = false;\n        const message = _c;\n        result.push(message);\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (!_d && !_a && (_b = _e.return)) await _b.call(_e);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n    result.total = this.total;\n    return result;\n  }\n  async _loadNextChunk() {\n    throw new Error(\"Not Implemented\");\n  }\n}\nexports.RequestIter = RequestIter;","map":{"version":3,"names":["__asyncValues","o","Symbol","asyncIterator","TypeError","m","i","call","__values","iterator","verb","n","v","Promise","resolve","reject","settle","done","value","d","then","Object","defineProperty","exports","RequestIter","Helpers_1","require","_1","constructor","client","limit","params","args","reverse","waitTime","Math","max","Number","MAX_SAFE_INTEGER","left","buffer","undefined","kwargs","index","total","lastLoad","_init","next","length","sleep","Date","getTime","nextChunk","_loadNextChunk","result","collect","_a","e_1","_b","_c","helpers","TotalList","_d","_e","_f","message","push","e_1_1","error","return","Error"],"sources":["C:/Users/Rodrick/Documents/telegram-media-downloader/node_modules/telegram/requestIter.js"],"sourcesContent":["\"use strict\";\nvar __asyncValues = (this && this.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RequestIter = void 0;\nconst Helpers_1 = require(\"./Helpers\");\nconst _1 = require(\"./\");\nclass RequestIter {\n    constructor(client, limit, params = {}, args = {}) {\n        this.client = client;\n        this.reverse = params.reverse;\n        this.waitTime = params.waitTime;\n        this.limit = Math.max(!limit ? Number.MAX_SAFE_INTEGER : limit, 0);\n        this.left = this.limit;\n        this.buffer = undefined;\n        this.kwargs = args;\n        this.index = 0;\n        this.total = undefined;\n        this.lastLoad = 0;\n    }\n    async _init(kwargs) {\n        // for overload\n    }\n    [Symbol.asyncIterator]() {\n        this.buffer = undefined;\n        this.index = 0;\n        this.lastLoad = 0;\n        this.left = this.limit;\n        return {\n            next: async () => {\n                if (this.buffer == undefined) {\n                    this.buffer = [];\n                    if (await this._init(this.kwargs)) {\n                        this.left = this.buffer.length;\n                    }\n                }\n                if (this.left <= 0) {\n                    return {\n                        value: undefined,\n                        done: true,\n                    };\n                }\n                if (this.index == this.buffer.length) {\n                    if (this.waitTime) {\n                        await (0, Helpers_1.sleep)(this.waitTime -\n                            (new Date().getTime() / 1000 - this.lastLoad));\n                    }\n                    this.lastLoad = new Date().getTime() / 1000;\n                    this.index = 0;\n                    this.buffer = [];\n                    const nextChunk = await this._loadNextChunk();\n                    if (nextChunk === false) {\n                        // we exit;\n                        return {\n                            value: undefined,\n                            done: true,\n                        };\n                    }\n                    if (nextChunk) {\n                        this.left = this.buffer.length;\n                    }\n                }\n                if (!this.buffer || !this.buffer.length) {\n                    return {\n                        value: undefined,\n                        done: true,\n                    };\n                }\n                const result = this.buffer[this.index];\n                this.left -= 1;\n                this.index += 1;\n                return {\n                    value: result,\n                    done: false,\n                };\n            },\n        };\n    }\n    async collect() {\n        var _a, e_1, _b, _c;\n        const result = new _1.helpers.TotalList();\n        try {\n            for (var _d = true, _e = __asyncValues(this), _f; _f = await _e.next(), _a = _f.done, !_a; _d = true) {\n                _c = _f.value;\n                _d = false;\n                const message = _c;\n                result.push(message);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (!_d && !_a && (_b = _e.return)) await _b.call(_e);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        result.total = this.total;\n        return result;\n    }\n    async _loadNextChunk() {\n        throw new Error(\"Not Implemented\");\n    }\n}\nexports.RequestIter = RequestIter;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}