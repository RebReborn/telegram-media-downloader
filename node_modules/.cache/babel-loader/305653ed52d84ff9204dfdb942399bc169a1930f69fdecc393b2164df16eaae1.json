{"ast":null,"code":"\"use strict\";\n\nvar __asyncValues = this && this.__asyncValues || function (o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator],\n    i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i);\n  function verb(n) {\n    i[n] = o[n] && function (v) {\n      return new Promise(function (resolve, reject) {\n        v = o[n](v), settle(resolve, reject, v.done, v.value);\n      });\n    };\n  }\n  function settle(resolve, reject, d, v) {\n    Promise.resolve(v).then(function (v) {\n      resolve({\n        value: v,\n        done: d\n      });\n    }, reject);\n  }\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ChatGetter = void 0;\nconst __1 = require(\"../../\");\nconst api_1 = require(\"../api\");\nconst Helpers_1 = require(\"../../Helpers\");\nconst inspect_1 = require(\"../../inspect\");\nclass ChatGetter {\n  [inspect_1.inspect.custom]() {\n    return (0, Helpers_1.betterConsoleLog)(this);\n  }\n  static initChatClass(c, {\n    chatPeer,\n    inputChat,\n    chat,\n    broadcast\n  }) {\n    c._chatPeer = chatPeer;\n    c._inputChat = inputChat;\n    c._chat = chat;\n    c._broadcast = broadcast;\n    c._client = undefined;\n  }\n  get chat() {\n    return this._chat;\n  }\n  async getChat() {\n    var _a;\n    if (!this._chat || \"min\" in this._chat && (await this.getInputChat())) {\n      try {\n        if (this._inputChat) {\n          this._chat = await ((_a = this._client) === null || _a === void 0 ? void 0 : _a.getEntity(this._inputChat));\n        }\n      } catch (e) {\n        await this._refetchChat();\n      }\n    }\n    return this._chat;\n  }\n  get inputChat() {\n    if (!this._inputChat && this._chatPeer && this._client) {\n      try {\n        this._inputChat = this._client._entityCache.get(__1.utils.getPeerId(this._chatPeer));\n      } catch (e) {}\n    }\n    return this._inputChat;\n  }\n  async getInputChat() {\n    var _a, e_1, _b, _c;\n    if (!this.inputChat && this.chatId && this._client) {\n      try {\n        const target = this.chatId;\n        try {\n          for (var _d = true, _e = __asyncValues(this._client.iterDialogs({\n              limit: 100\n            })), _f; _f = await _e.next(), _a = _f.done, !_a; _d = true) {\n            _c = _f.value;\n            _d = false;\n            const dialog = _c;\n            if (dialog.id.eq(target)) {\n              this._chat = dialog.entity;\n              this._inputChat = dialog.inputEntity;\n              break;\n            }\n          }\n        } catch (e_1_1) {\n          e_1 = {\n            error: e_1_1\n          };\n        } finally {\n          try {\n            if (!_d && !_a && (_b = _e.return)) await _b.call(_e);\n          } finally {\n            if (e_1) throw e_1.error;\n          }\n        }\n      } catch (e) {\n        // do nothing\n      }\n      return this._inputChat;\n    }\n    return this._inputChat;\n  }\n  get chatId() {\n    return this._chatPeer ? (0, Helpers_1.returnBigInt)(__1.utils.getPeerId(this._chatPeer)) : undefined;\n  }\n  get isPrivate() {\n    return this._chatPeer ? this._chatPeer instanceof api_1.Api.PeerUser : undefined;\n  }\n  get isGroup() {\n    if (!this._broadcast && this.chat && \"broadcast\" in this.chat) {\n      this._broadcast = Boolean(this.chat.broadcast);\n    }\n    if (this._chatPeer instanceof api_1.Api.PeerChannel) {\n      if (this._broadcast === undefined) {\n        return undefined;\n      } else {\n        return !this._broadcast;\n      }\n    }\n    return this._chatPeer instanceof api_1.Api.PeerChat;\n  }\n  get isChannel() {\n    return this._chatPeer instanceof api_1.Api.PeerChannel;\n  }\n  async _refetchChat() {}\n}\nexports.ChatGetter = ChatGetter;","map":{"version":3,"names":["__asyncValues","o","Symbol","asyncIterator","TypeError","m","i","call","__values","iterator","verb","n","v","Promise","resolve","reject","settle","done","value","d","then","Object","defineProperty","exports","ChatGetter","__1","require","api_1","Helpers_1","inspect_1","inspect","custom","betterConsoleLog","initChatClass","c","chatPeer","inputChat","chat","broadcast","_chatPeer","_inputChat","_chat","_broadcast","_client","undefined","getChat","_a","getInputChat","getEntity","e","_refetchChat","_entityCache","get","utils","getPeerId","e_1","_b","_c","chatId","target","_d","_e","iterDialogs","limit","_f","next","dialog","id","eq","entity","inputEntity","e_1_1","error","return","returnBigInt","isPrivate","Api","PeerUser","isGroup","Boolean","PeerChannel","PeerChat","isChannel"],"sources":["C:/Users/Rodrick/Documents/telegram-media-downloader/node_modules/telegram/tl/custom/chatGetter.js"],"sourcesContent":["\"use strict\";\nvar __asyncValues = (this && this.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ChatGetter = void 0;\nconst __1 = require(\"../../\");\nconst api_1 = require(\"../api\");\nconst Helpers_1 = require(\"../../Helpers\");\nconst inspect_1 = require(\"../../inspect\");\nclass ChatGetter {\n    [inspect_1.inspect.custom]() {\n        return (0, Helpers_1.betterConsoleLog)(this);\n    }\n    static initChatClass(c, { chatPeer, inputChat, chat, broadcast }) {\n        c._chatPeer = chatPeer;\n        c._inputChat = inputChat;\n        c._chat = chat;\n        c._broadcast = broadcast;\n        c._client = undefined;\n    }\n    get chat() {\n        return this._chat;\n    }\n    async getChat() {\n        var _a;\n        if (!this._chat ||\n            (\"min\" in this._chat && (await this.getInputChat()))) {\n            try {\n                if (this._inputChat) {\n                    this._chat = await ((_a = this._client) === null || _a === void 0 ? void 0 : _a.getEntity(this._inputChat));\n                }\n            }\n            catch (e) {\n                await this._refetchChat();\n            }\n        }\n        return this._chat;\n    }\n    get inputChat() {\n        if (!this._inputChat && this._chatPeer && this._client) {\n            try {\n                this._inputChat = this._client._entityCache.get(__1.utils.getPeerId(this._chatPeer));\n            }\n            catch (e) { }\n        }\n        return this._inputChat;\n    }\n    async getInputChat() {\n        var _a, e_1, _b, _c;\n        if (!this.inputChat && this.chatId && this._client) {\n            try {\n                const target = this.chatId;\n                try {\n                    for (var _d = true, _e = __asyncValues(this._client.iterDialogs({\n                        limit: 100,\n                    })), _f; _f = await _e.next(), _a = _f.done, !_a; _d = true) {\n                        _c = _f.value;\n                        _d = false;\n                        const dialog = _c;\n                        if (dialog.id.eq(target)) {\n                            this._chat = dialog.entity;\n                            this._inputChat = dialog.inputEntity;\n                            break;\n                        }\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (!_d && !_a && (_b = _e.return)) await _b.call(_e);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n            }\n            catch (e) {\n                // do nothing\n            }\n            return this._inputChat;\n        }\n        return this._inputChat;\n    }\n    get chatId() {\n        return this._chatPeer\n            ? (0, Helpers_1.returnBigInt)(__1.utils.getPeerId(this._chatPeer))\n            : undefined;\n    }\n    get isPrivate() {\n        return this._chatPeer\n            ? this._chatPeer instanceof api_1.Api.PeerUser\n            : undefined;\n    }\n    get isGroup() {\n        if (!this._broadcast && this.chat && \"broadcast\" in this.chat) {\n            this._broadcast = Boolean(this.chat.broadcast);\n        }\n        if (this._chatPeer instanceof api_1.Api.PeerChannel) {\n            if (this._broadcast === undefined) {\n                return undefined;\n            }\n            else {\n                return !this._broadcast;\n            }\n        }\n        return this._chatPeer instanceof api_1.Api.PeerChat;\n    }\n    get isChannel() {\n        return this._chatPeer instanceof api_1.Api.PeerChannel;\n    }\n    async _refetchChat() { }\n}\nexports.ChatGetter = ChatGetter;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}