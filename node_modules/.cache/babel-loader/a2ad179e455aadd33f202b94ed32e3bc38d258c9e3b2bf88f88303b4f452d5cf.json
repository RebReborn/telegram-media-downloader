{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Draft = void 0;\nconst Utils_1 = require(\"../../Utils\");\nconst api_1 = require(\"../api\");\nconst Helpers_1 = require(\"../../Helpers\");\nconst inspect_1 = require(\"../../inspect\");\nclass Draft {\n  [inspect_1.inspect.custom]() {\n    return (0, Helpers_1.betterConsoleLog)(this);\n  }\n  constructor(client, entity, draft) {\n    this._client = client;\n    this._peer = (0, Utils_1.getPeer)(entity);\n    this._entity = entity;\n    this._inputEntity = entity ? (0, Utils_1.getInputPeer)(entity) : undefined;\n    if (!draft || !(draft instanceof api_1.Api.DraftMessage)) {\n      draft = new api_1.Api.DraftMessage({\n        message: \"\",\n        date: -1\n      });\n    }\n    if (!(draft instanceof api_1.Api.DraftMessageEmpty)) {\n      this.linkPreview = !draft.noWebpage;\n      this._text = client.parseMode ? client.parseMode.unparse(draft.message, draft.entities || []) : draft.message;\n      this._rawText = draft.message;\n      this.date = draft.date;\n      const replyTo = draft.replyTo;\n      if (replyTo != undefined) {\n        if (\"replyToMsgId\" in replyTo) {\n          this.replyToMsgId = replyTo.replyToMsgId;\n        }\n      }\n    }\n  }\n  get entity() {\n    return this._entity;\n  }\n  get inputEntity() {\n    if (!this._inputEntity) {\n      this._inputEntity = this._client._entityCache.get(this._peer);\n    }\n    return this._inputEntity;\n  }\n}\nexports.Draft = Draft;","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}