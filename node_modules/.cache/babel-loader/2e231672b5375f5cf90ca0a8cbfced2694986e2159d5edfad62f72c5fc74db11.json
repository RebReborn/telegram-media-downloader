{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RequestState = void 0;\nconst Deferred_1 = __importDefault(require(\"../extensions/Deferred\"));\nclass RequestState {\n  constructor(request) {\n    this.containerId = undefined;\n    this.msgId = undefined;\n    this.request = request;\n    this.data = request.getBytes();\n    this.after = undefined;\n    this.result = undefined;\n    this.finished = new Deferred_1.default();\n    this.resetPromise();\n  }\n  isReady() {\n    if (!this.after) {\n      return true;\n    }\n    return this.after.finished.promise;\n  }\n  resetPromise() {\n    var _a;\n    // Prevent stuck await\n    (_a = this.reject) === null || _a === void 0 ? void 0 : _a.call(this);\n    this.promise = new Promise((resolve, reject) => {\n      this.resolve = resolve;\n      this.reject = reject;\n    });\n  }\n}\nexports.RequestState = RequestState;","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}